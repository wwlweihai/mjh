function appConfig(a,b,c,d,e){e.useSanitizeValueStrategy("sanitize"),e.preferredLanguage("en"),e.useStaticFilesLoader({prefix:"i18n/",suffix:".json"}),c.backButton.text("").icon("ion-ios-arrow-left").previousTitleText(!1),d.setBaseUrl("http://mobidev.homeip.net/wineceller/index.php"),c.views.transition("platform"),b.otherwise("/menu"),a.state("menu",{url:"/menu",templateUrl:"modules/menu.html",controller:"menu"}).state("events",{url:"/events",templateUrl:"modules/events/events.html",controller:"events"}).state("eventDetail",{url:"/eventDetail",params:{id:1,type:0},templateUrl:"modules/events/eventDetail/eventDetail.html",controller:"eventDetail"}).state("blank",{url:"/blank/:url",templateUrl:"modules/blank/blank.html",controller:"blank"}).state("news",{url:"/news",templateUrl:"modules/news/news.html",controller:"news"}).state("newDetail",{url:"/newDetail/:id",templateUrl:"modules/news/newDetail/newDetail.html",controller:"newDetail"})}function menuController(a,b,c,d,e){function f(){e.menuOperatPopup=!e.menuOperatPopup}function g(a){var b={c:"api",a:"menu",lang_code:a};i.get(b).then(function(a){e.menuList=a.data})}function h(){e.languageSetModal.hide()}var i=a.one("menus");e.menuOperatPopupToggle=f,e.languageList=b.languageList,e.data={},e.data.platformName=ionic.Platform.platform(),ionic.Platform.ready(function(){e.data.deviceToken=device.uuid,g(d.use())}),e.$on("$ionicView.beforeEnter",function(){e.menuOperatPopup=!1}),c.fromTemplateUrl("modules/languageSetModal/languageSetModal.html",{scope:e,animation:"slide-in-up"}).then(function(a){e.languageSetModal=a}),e.openLanguageSetModal=function(){e.languageSetModal.show()},e.closeLanguageSetModal=h,e.updateLanguage=function(a){d.use(a.mark),g(a.mark),h()},e.$on("$destroy",function(){e.languageSetModal.remove()}),e.$on("modal.hidden",function(){}),e.$on("modal.removed",function(){})}function eventsController(a,b,c){function d(){f(c.data.selectedId,b.use())}function e(a){c.data.selectedId=a,f(a,b.use())}function f(a,b){console.log(b);var d={c:"api",a:"events",type:a,lang_code:b};g.get(d).then(function(a){c.data.events=a.data})}var g=a.one("events");c.data={},c.data.lg=b.use(),c.data.selectedId=1,c.data.events=[],c.navTo=e,d()}function eventDetail(a,b,c,d,e,f,g){function h(){console.log(e.id),console.log(e.type),console.log("获取eventDetail"),i(e.id,e.type,f.use())}function i(a,b,c){console.log(c);var d={c:"api",a:"events",id:a,type:b,lang_code:c};l.get(d).then(function(a){console.log(JSON.stringify(a.data[0])),g.data.event=a.data[0]})}function j(c){console.log("addCalendar"),b.createEvent({title:c.eventname,location:c.location,startDate:c.startdate,endDate:c.enddate}).then(function(b){a.alert({title:"成功保存到日历！"})},function(b){a.alert({title:"保存到日历失败！",okType:"button-assertive"})})}function k(b){console.log("sharing");var d=b.name,e=null,f=null,g=null;c.share(d,e,f,g).then(function(b){console.log(JSON.stringify(b)),a.alert({title:"分享成功！"})},function(b){console.log(JSON.stringify(b)),a.alert({title:"分享失败！",okType:"button-assertive"})})}var l=d.one("events");g.data={},g.addCalendar=j,g.sharing=k,h()}function newsController(a,b,c){function d(){e(b.use()),console.log("获取news")}function e(a){var b={c:"api",a:"news",lang_code:a};f.get(b).then(function(a){c.data.loading=!1,c.data.newsList=a.data})}var f=a.one("news");c.data={},c.data.loading=!0,c.data.newsList=[],d()}function newDetail(a,b,c,d,e){function f(){console.log(b.id),g(b.id,c.use()),console.log("获取new")}function g(a,b){var c={c:"api",a:"news",id:a,lang_code:b};h.get(c).then(function(a){e.data.loading=!1,e.data.news=a.data,e.data.detailContent=d.trustAsHtml(a.data.excerpt)})}var h=a.one("news");e.data={},e.data.loading=!0,f()}function blank(a,b,c){function d(){console.log(a.url),console.log("load blank controller success")}c.displayUrl=b.trustAsResourceUrl(a.url),d()}angular.module("app",["app.core","app.value","app.config","app.directive","app.controller"]),angular.module("app.core",["pascalprecht.translate","ngCordovaOauth","ngCordova","restangular"]),angular.module("app.value",[]),angular.module("app.config",["ionic","app.value"]),angular.module("app.controller",[]),angular.module("app.directive",[]);var onDeviceReady=function(){console.log("JPushPlugin:Device ready!"),initiateUI()},onGetRegistradionID=function(a){try{console.log("JPushPlugin:registrationID is "+a)}catch(b){console.log(b)}},onTagsWithAlias=function(a){try{console.log("onTagsWithAlias");var b="result code:"+a.resultCode+" ";b+="tags:"+a.tags+" ",b+="alias:"+a.alias+" ",$("#tagAliasResult").html(b)}catch(c){console.log(c)}},onOpenNotification=function(a){try{var b;b="Android"==device.platform?window.plugins.jPushPlugin.openNotification.alert:a.aps.alert,alert("open Notificaiton:"+b)}catch(c){console.log("JPushPlugin:onOpenNotification"+c)}},onReceiveNotification=function(a){try{var b;b="Android"==device.platform?window.plugins.jPushPlugin.receiveNotification.alert:a.aps.alert,$("#notificationResult").html(b)}catch(c){console.log(exception)}},onReceiveMessage=function(a){try{var b;b="Android"==device.platform?window.plugins.jPushPlugin.receiveMessage.message:a.content,$("#messageResult").html(b)}catch(c){console.log("JPushPlugin:onReceiveMessage-->"+c)}},initiateUI=function(){try{window.plugins.jPushPlugin.init(),window.plugins.jPushPlugin.getRegistrationID(onGetRegistradionID),"Android"!=device.platform?(window.plugins.jPushPlugin.setDebugModeFromIos(),window.plugins.jPushPlugin.setApplicationIconBadgeNumber(0)):window.plugins.jPushPlugin.setDebugMode(!0)}catch(a){console.log(a)}};document.addEventListener("jpush.setTagsWithAlias",onTagsWithAlias,!1),document.addEventListener("deviceready",onDeviceReady,!1),document.addEventListener("jpush.openNotification",onOpenNotification,!1),document.addEventListener("jpush.receiveNotification",onReceiveNotification,!1),document.addEventListener("jpush.receiveMessage",onReceiveMessage,!1),angular.module("app.config").config(["$stateProvider","$urlRouterProvider","$ionicConfigProvider","RestangularProvider","$translateProvider",appConfig]),angular.module("app.value").value("app",{language:"en",languageList:[{name:"汉语",mark:"zh"},{name:"english",mark:"en"}]}),angular.module("app.controller").controller("menu",menuController),menuController.$inject=["Restangular","app","$ionicModal","$translate","$scope"],angular.module("app.controller").controller("events",eventsController),eventsController.$inject=["Restangular","$translate","$scope"],angular.module("app.controller").controller("eventDetail",eventDetail),eventDetail.$inject=["$ionicPopup","$cordovaCalendar","$cordovaSocialSharing","Restangular","$stateParams","$translate","$scope"],angular.module("app.controller").controller("news",newsController),newsController.$inject=["Restangular","$translate","$scope"],angular.module("app.controller").controller("newDetail",newDetail),newDetail.$inject=["Restangular","$stateParams","$translate","$sce","$scope"],angular.module("app.controller").controller("blank",blank),blank.$inject=["$stateParams","$sce","$scope"];